/*let vh = window.innerHeight * 0.01
document.documentElement.style.setProperty('--vh', `${vh}px`)
window.addEventListener('resize', () => {
  let vh = window.innerHeight * 0.01
  document.documentElement.style.setProperty('--vh', `${vh}px`)
});*/

$(function(){
	
	// main visual _ noodle-slide	
	function noodle_Slide (){

        var imgNum = 20;
        var rowCount = 2;
        var rowImgCount = 10;
        var imgArray = [];
        var rowContainer = $('.noodle-slide .row .swiper-wrapper');

        (function makeImgArray(){
            for(var i =0; i < imgNum; i ++){
                imgArray.push('<div class="noodle-item swiper-slide"><figure><img src="/portal/img/main/renew/noodle/'+ (i+1) +'.png" alt=""></div>')    
            }                              
        })();

        for(var i = 0; i < rowCount; i++){
            var imgSlide = [];                            
            for(var j = 0; j < rowImgCount; j++){
                var pickSlide = imgArray.splice(Math.floor(Math.random() * imgArray.length),1)[0]
                imgSlide.push(pickSlide)
            }
            rowContainer.eq(i).append(imgSlide.join(''));
        }                            

        var containers = $('.main_visual .noodle-slide .swiper-container')

        containers.each(function(idx){
            var container = $(this);

            new Swiper(container,  {
                slidesPerView : 'auto',
                loop:true,
                grabCursor: false,
                freeMode: true, 
                speed: 50000,
                loopedSlides: 10,
                autoplay: {
                    delay: idx == 2 ? 1 : 2 ,
                    reverseDirection: idx == 1 ? true : false,
                },                                    
                disableOnInteraction: true,
                allowTouchMove : false,
            })
        })
    };	
			
	// main section04 _ review-slide
	var review_slide_num = $('.sec04 .review-item').length;
    function review_slide(){
		var review_slide_pc = {
			centeredSlides: true,
			slidesPerView : 3.8235 ,
			spaceBetween : 20 ,
			loopPreventsSlide : false,
			loopFillGroupWithBlank : true,
			loopAdditionalSlides : 3,
			initialSlide: 1,
            speed : 2000,
			loop: true,
			observer : true,
			observeParents : true,
			observeSlideChildren : true,
			autoplay: {
				delay: 2000,
				disableOnInteraction: false,
			},
			breakpoints : {   
				1280 : {
					slidesPerView : 3.5 ,
					spaceBetween : 14 ,					
				},
				1080 : {
					slidesPerView : 3.15 ,
					spaceBetween : 14 ,					
				},
				768 : {
					slidesPerView : 2.15 ,
					spaceBetween: 14,
					touchReleaseOnEdges : false,
				},
				640 : {
					slidesPerView : 1.85 ,
					spaceBetween: 14,
					touchReleaseOnEdges : false,
				},
				540 : {
					slidesPerView : 1.55 ,
					spaceBetween: 14,
					touchReleaseOnEdges : false,
				},
				480 : {
					slidesPerView : 1.35 ,
					spaceBetween: 14,
					touchReleaseOnEdges : false,
				},
				392 : {
					slidesPerView : 1.15 ,
					spaceBetween: 14,
					touchReleaseOnEdges : false,
				},
			},
			on : {
				slideChange : function(){
					var idx = review_slide_pc.realIndex;
				}
			}
		};
		
		review_slide = new Swiper('.review-slide',review_slide_pc)

	};
	
	// intro _ intro_slide
	var intro_slide_num = $('.intro03 .intro-item').length;
    function intro_slide(){
		var intro_slide_pc = {
			slidesPerView : 1 ,
			loopPreventsSlide : false,
			loopFillGroupWithBlank : true,
			loopAdditionalSlides : 2,
            speed : 2000,
			loop: true,
			observer : true,
			observeParents : true,
			observeSlideChildren : true,
			centeredSlides: true,
			//effect: "fade",
			autoplay: {
				delay: 2000,
				disableOnInteraction: false,
			},
			navigation: false,
			pagination: false,
			on : {
				slideChange : function(){
					var idx = intro_slide_pc.realIndex;


				}
			}
		};
		
		intro_slide = new Swiper('.intro_slide',intro_slide_pc)

	};
	
	//main uselayer - role-slide
	var rcmd_slide_num = $('.sec00 .role-item').length;
    function role_slide(){
		var role_slide_pc = {
			slidesPerView : 1 ,
			loopPreventsSlide : false,
			loopFillGroupWithBlank : true,
			loopAdditionalSlides : false,
            speed : 500,
			loop: true,
			observer : true,
			observeParents : true,
			observeSlideChildren : true,
			centeredSlides: true,
			effect: "fade",
			autoplay: {
				delay: 3000,
				disableOnInteraction: false,
			},
			navigation: false,
			pagination: {
		          el: ".role-pagination",
		          clickable: true,
		    },
			on : {
				slideChange : function(){
					var idx = role_slide_pc.realIndex;


				}
			}
		};
		
		role_slide = new Swiper('.role-slide',role_slide_pc)

	};
	
	//main sec07 - rcmd-slide
	var rcmd_slide_num = $('.sec07 .rcmd-item').length;
    function rcmd_slide(){
		var rcmd_slide_pc = {
			slidesPerView : 3 ,
			spaceBetween : 160 ,
			loopPreventsSlide : false,
			loopFillGroupWithBlank : true,
			loopAdditionalSlides : 3,
            speed : 1000,
			loop: true,
			observer : true,
			observeParents : true,
			observeSlideChildren : true,
			centeredSlides: true,
			initialSlide: 1,
			autoplay: {
				delay: 2000,
				disableOnInteraction: false,
			},
			pagination: {
		          el: ".rcmd-pagination",
		          clickable: true,
		    },
			breakpoints : {   
				1080 : {
					slidesPerView : 1 ,
					spaceBetween : 40 ,					
				},
				1280 : {
					slidesPerView : 3 ,
					spaceBetween : 40 ,					
				},
			},
			on : {
				slideChange : function(){
					var idx = rcmd_slide_pc.realIndex;


				}
			}
		};
		
		rcmd_slide = new Swiper('.rcmd-slide',rcmd_slide_pc)

	};
	
	function init(){
		noodle_Slide();
		review_slide();
		intro_slide();
		role_slide();
		rcmd_slide();
	};

	init();
	
	// main visual scrolldown
	$('.head-cont-btn').on('click', function() {
		
		$('html').animate({
			scrollTop: $( $.attr(this, 'href') ).offset().top			
		}, 500);
		return false;		
	});

});