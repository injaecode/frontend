"use strict";var ssg=ssg||{};ssg.Event=ssg.Event||{};ssg.Event.emitter={subscribers:{},on:function e(i,t,n){this.subscribers[i]=this.subscribers[i]||[],this.subscribers[i].push({callback:t,context:n})},off:function e(i,t,n){var a,s,o=this.subscribers[i];if(o)for(a=o.length-1;a>=0;){if(s=o[a],s.callback===t&&(!n||s.context===n)){o.splice(a,1);break}a--}},emit:function e(i){var t,n=this.subscribers[i],a=0,s=Array.prototype.slice.call(arguments,1);if(n)for(;a<n.length;){t=n[a],t.callback.apply(t.context||this,s),a++}}};ssg.View=ssg.View||{};var ssg=ssg||{};ssg.View=ssg.View||{};ssg.View.mallLayer=function(e){$.extend(this,e||{});this.init()};ssg.View.mallLayer.prototype=$.extend({init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._welHeader=$("#header.ssg_header_mini");this._welLogo=this._welHeader.find(".ssg_logo_link");this._welMallLayer=this._welHeader.find(".js_mall_layer");this._welMallClose=this._welMallLayer.find(".js_mall_close")},_attachEventHandlers:function e(){var i=this;this._welLogo.on("mouseenter focusin",function(e){return i._onMouseenterLogo(e)});this._welMallLayer.on("mouseleave",function(e){return i._onMouseleaveMallLayer(e)});this._welMallLayer.on("focusin",function(e){return i._onFocusinMallLayer(e)});this._welMallLayer.on("focusout",function(e){return i._onFocusoutMallLayer(e)});this._welMallClose.on("click",function(e){return i._onClickCloseMallLayer(e)})},_onClickCloseMallLayer:function e(i){this._hideMallLayer()},_onMouseenterLogo:function e(i){console.log("AAA");this._showMallLayer();this._openLayer=true},_onMouseleaveMallLayer:function e(i){this._openLayer=false;this._checkMallLayerArea()},_onFocusinMallLayer:function e(i){this._openLayer=true},_onFocusoutMallLayer:function e(i){if(this._welMallLayer.is(":visible")){this._openLayer=false;this._checkMallLayerArea()}},_checkMallLayerArea:function e(){var i=this;this._oHoverTimeout=setTimeout(function(){if(i._openLayer){clearTimeout(i._oHoverTimeout);i._oHoverTimeout=null;return}else{i._hideMallLayer()}},150)},_showMallLayer:function e(){this._welMallLayer.attr("aria-hidden","false").addClass("is_open")},_hideMallLayer:function e(){this._welMallLayer.attr("aria-hidden","true").removeClass("is_open")}},ssg.Event.emitter);ssg.View.drawer=function(e){$.extend(this,e||{});this.init()};ssg.View.drawer.prototype=$.extend({_dimmed:'<div class="drawer_dimmed"></div>',init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._welHtml=$("html");this._welBody=$("body");this._welWrap=$("#wrap");this._welHeader=$("#header");this._welLeftMenu=$("#left");this._welRightMenu=$("#history")},_attachEventHandlers:function e(){var i=this;this._welBody.on("click",".js_history_open",function(e){return i._onClickHistoryOpen(e)});this._welBody.on("mouseenter",".ssg_history_list > li",function(e){return i._onMouseenterHistoryList(e)});this._welBody.on("mouseleave",".ssg_history_list",function(e){return i._onMouseleaveHistoryList(e)})},_onClickHistoryOpen:function e(i){i.preventDefault();this._welOpenBtn=$(i.currentTarget);this.showRightMenu()},_onMouseenterHistoryList:function e(i){$(i.currentTarget).addClass("on").siblings().removeClass("on")},_onMouseleaveHistoryList:function e(i){$(i.currentTarget).find(">li").removeClass("on")},_onClickClose:function e(){if(this._isOpenLeft){this.hideLeftMenu()}if(this._isOpenRight){this.hideRightMenu()}},_onKeydownFocusCycle:function e(i){var t=$(i.currentTarget).find(".drawer_wrap");var n=i.sKeyCode||i.which;var a=n===9;var s=null;var o=0;var r=null;var l=null;if(a){s=t.find(":visible").filter("a[href], button:not([disabled])");r=s.index($(":focus"));o=s.length;if(o){l=o-1;if(i.shiftKey){if(r===0){s.get(l).focus();i.preventDefault()}}else{if(r===l){t.focus();i.preventDefault()}}}else{t.focus();i.preventDefault()}}},_onKeydownClose:function e(i){var t=i.sKeyCode||i.which;var n=t===27;var a=$(i.currentTarget);if(n){this._closeMenu(a)}},_appendToDimmed:function e(i){if(!i.find(".drawer_dimmed").length){i.prepend(this._dimmed)}},_oepnMenu:function e(i){var t=this;this._appendToDimmed(i);this._disableBodyScroll();i.show(0,function(){i.addClass("is_open");i.find(".drawer_wrap").focus()});i.attr("aria-hidden","false").on("keydown.drawer",function(e){return t._onKeydownClose(e)}).on("keydown.focusCycle",function(e){return t._onKeydownFocusCycle(e)});i.find(".drawer_close, .drawer_dimmed").one("click.drawer",function(e){return t._onClickClose(e)})},_closeMenu:function e(i){this._enableBodyScroll();i.removeClass("is_open").find(".drawer_wrap").one("transitionend",function(){return i.hide()});i.find(".drawer_dimmed").off("click.drawer");i.attr("aria-hidden","true").off("keydown.drawer").off("keydown.focusCycle");this._welOpenBtn.focus()},_enableBodyScroll:function e(){this._welBody.removeAttr("style")},_disableBodyScroll:function e(){this._welBody.css({"overscroll-behavior-y":"none"})},showLeftMenu:function e(){this._isOpenLeft=true;this._oepnMenu(this._welLeftMenu)},hideLeftMenu:function e(){this._isOpenLeft=false;this._closeMenu(this._welLeftMenu)},showRightMenu:function e(){this._isOpenRight=true;this._welOpenBtn.attr("aria-label","최근본 상품 숨기기");this._oepnMenu(this._welRightMenu)},hideRightMenu:function e(){this._isOpenRight=false;this._welOpenBtn.attr("aria-label","최근본 상품 표시하기");this._closeMenu(this._welRightMenu)}},ssg.Event.emitter);ssg.View.mallBrand=function(e){$.extend(this,e||{});this.init()};ssg.View.mallBrand.prototype=$.extend({init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._welHeader=$("#header");this._welMallBrand=$(".ssg_mall_brand");this._welMallBrandBtn=this._welMallBrand.find(".ssg_brand_btn");this._welMallBrandLayer=this._welMallBrand.find(".ssg_brand_layer")},_attachEventHandlers:function e(){var i=this;this._welMallBrandBtn.on("click",function(e){return i._onClickBrandToggle(e)});this._welMallBrand.on("mouseenter",function(e){return i._onMouseenterBrand(e)});this._welMallBrand.on("mouseleave",function(e){return i._onMouseleaveBrand(e)});this._welMallBrand.on("focusin",function(e){return i._onFocusinBrand(e)});this._welMallBrand.on("focusout",function(e){return i._onFocusoutBrand(e)})},_onClickBrandToggle:function e(i){if(this._welMallBrand.hasClass("on")){this._hideBrandLayer()}else{this._showBrandLayer()}},_onMouseenterBrand:function e(i){this._showBrandLayer();this._openLayer=true},_onMouseleaveBrand:function e(i){this._openLayer=false;this._checkBrandLayerArea()},_onFocusinBrand:function e(i){this._openLayer=true},_onFocusoutBrand:function e(i){if(this._welMallBrandLayer.is(":visible")){this._openLayer=false;this._checkBrandLayerArea()}},_checkBrandLayerArea:function e(){var i=this;this._oHoverTimeout=setTimeout(function(){if(i._openLayer){clearTimeout(i._oHoverTimeout);i._oHoverTimeout=null;return}else{i._hideBrandLayer()}},150)},_showBrandLayer:function e(){this._welMallBrand.addClass("on");this._welMallBrandBtn.attr("aria-expanded","true");this._welMallBrandLayer.attr("aria-hidden","false")},_hideBrandLayer:function e(){this._welMallBrand.removeClass("on");this._welMallBrandBtn.attr("aria-expanded","false");this._welMallBrandLayer.attr("aria-hidden","true")}},ssg.Event.emitter);ssg.View.floating=function(e){$.extend(this,e||{});this.init()};ssg.View.floating.prototype=$.extend({init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._window=$(window);this._doucument=$(document);this._welFooter=$("#footer");this._welFloating=$("#floating");this._welTopBtn=this._welFloating.find(".js_move_top");this._floatingTopPosition=parseInt(this._welFloating.offset().top,10);this._bubbleTxtHeight=145;this._floatingHeight=this._welFloating.outerHeight();this._fixedStart=this._floatingTopPosition-this._bubbleTxtHeight;this._footerHeight=this._welFooter.outerHeight()},_attachEventHandlers:function e(){var i=this;this._welTopBtn.on("click",function(e){return window.scrollTo(0,0)});var t=false;window.addEventListener("scroll",function(e){if(!t){requestAnimationFrame(function(){i._positionFixed();t=false});t=true}})},_onScrollWindow:function e(){this._positionFixed()},_positionFixed:function e(){var i=this._window.scrollTop();var t=this._window.height();var n=this._welFloating.offset().top;var a=this._welFloating.height();var s=this._welFooter.offset().top;var o=10;if(i+t>=n+a+o&&i+t<=s){this._welFloating.css({position:"fixed",top:"".concat(t-a-o,"px"),bottom:"auto"})}else if(i+t>s){if(this._welFooter.is(":hidden")){return}this._welFloating.css({position:"fixed",top:"".concat(s-a-i-o,"px"),bottom:"auto"})}else{}}},ssg.Event.emitter);ssg.View.floatingDelivery=function(e){$.extend(this,e||{});this.init()};ssg.View.floatingDelivery.prototype=$.extend({_isPlayingEnabled:true,init:function e(){this._assignElements();this._assignComponents()},_assignElements:function e(){this._welFloating=$("#floating");this._welDeliverySwiper=this._welFloating.find(".ssgcar_swiper")},_assignComponents:function e(){var i=this;if(this._welDeliverySwiper.find(".swiper-slide").length){this._swiperInit();return}var t=this._welDeliverySwiper.find(".swiper-wrapper")[0];this._elementReady(t).then(function(e){i._swiperInit()}).catch(function(e){i._swiperInit()})},_elementReady:function e(o){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new Promise(function(n,e){var a=false;var i={childList:true};var t=function e(i,t){i.forEach(function(e){if(e.type==="childList"){a=true;t.disconnect();n(o)}})};var s=new MutationObserver(t);s.observe(o,i)})},_swiperInit:function e(){var t=this;if(this._oDeliverySwiper){return}this._welDeliverySwiperList=this._welDeliverySwiper.find(".swiper-slide");this._welControls=this._welDeliverySwiper.find(".swiper-ctrls");this._welAutoPlay=this._welControls.find(".swiper-btn-auto, .ssgcar_ctrl_auto");this._welPrev=this._welControls.find(".swiper-btn-prev, .ssgcar_ctrl_prev");this._welNext=this._welControls.find(".swiper-btn-next, .ssgcar_ctrl_next");this._welDeliverySwiper.prepend('<div class="swiper-tooltip-wrap">\n          <div class="swiper-tooltip">'.concat(this._welDeliverySwiperList.eq(0).find(".ssgcar_item").html(),'</div>\n          <button type="button" class="swiper-tooltip-close"><span class="blind">배송시간 툴팁 그만보기</span></button>\n        </div>'));this._welTooltipWrap=this._welDeliverySwiper.find(".swiper-tooltip-wrap");this._welTooltip=this._welTooltipWrap.find(".swiper-tooltip");this._welTooltipWrap.on("click",".swiper-tooltip-close",function(e){t._welTooltipWrap.remove()});var i=this._welDeliverySwiperList.length>1;this._oDeliverySwiper=new Swiper(this._welDeliverySwiper.find(".swiper-container")[0],{loop:i,allowTouchMove:false,speed:500,autoplay:i?{delay:5e3,disableOnInteraction:false}:false,navigation:i?{prevEl:this._welPrev[0],nextEl:this._welNext[0]}:false,a11y:{prevSlideMessage:"이전 슬라이드 배너 보기",nextSlideMessage:"다음 슬라이드 배너 보기",slideLabelMessage:"총 {{slidesLength}}장의 슬라이드 배너 중 {{index}}번째 슬라이드 배너 입니다."},on:{init:function e(){if(i){t._welDeliverySwiper.on("mouseenter",function(e){return t._onMouseenterSlider(e)}).on("mouseleave",function(e){return t._onMouseleaveSlider(e)});t._welAutoPlay.on("click",function(e){return t._onClickSwiperAutoPlay(e)});t._welDeliverySwiperList.on("focusin",function(e){return t._onFocusinSlider(e)});t._welDeliverySwiperList.on("focusout",function(e){return t._onFocusoutSlider(e)})}else{t._welControls.hide()}},slidePrevTransitionStart:function e(){t._welDeliverySwiper.find(".swiper-container").addClass("move_prev")},slideNextTransitionStart:function e(){t._welDeliverySwiper.find(".swiper-container").removeClass("move_prev")},slideChangeTransitionEnd:function e(){var i=t._welDeliverySwiper.find(".swiper-slide-active .ssgcar_item");t._welTooltip.html(i.clone())},navigationPrev:function e(){t._welDeliverySwiper.attr("aria-live","polite")},navigationNext:function e(){t._welDeliverySwiper.attr("aria-live","polite")}}})},_onMouseenterSlider:function e(){if(!this._isPlayingEnabled){return}this._oDeliverySwiper.autoplay.stop()},_onMouseleaveSlider:function e(){if(!this._isPlayingEnabled){return}this._oDeliverySwiper.autoplay.start();this._welDeliverySwiper.attr("aria-live","off")},_onFocusinSlider:function e(){this._oDeliverySwiper.autoplay.running&&this._oDeliverySwiper.autoplay.stop()},_onFocusoutSlider:function e(){this._welDeliverySwiper.attr("aria-live","off")},_onClickSwiperAutoPlay:function e(i){var t=$(i.currentTarget);if(t.hasClass("pause")){this._onStop()}else{this._onPlay()}},_onPlay:function e(){this._isPlayingEnabled=true;this._oDeliverySwiper.autoplay.start();this._welAutoPlay.addClass("pause");this._welDeliverySwiper.attr("aria-live","off")},_onStop:function e(){this._isPlayingEnabled=false;this._oDeliverySwiper.autoplay.stop();this._welAutoPlay.removeClass("pause");this._welDeliverySwiper.attr("aria-live","polite")}},ssg.Event.emitter);ssg.View.floatingCard=function(e){$.extend(this,e||{});this.init()};ssg.View.floatingCard.prototype=$.extend({_isPlayingEnabled:true,init:function e(){this._assignElements();this._assignComponents()},_assignElements:function e(){this._welFloating=$("#floating");this._welCardSwiper=this._welFloating.find(".ssgcard_swiper")},_assignComponents:function e(){var i=this;if(this._welCardSwiper.find(".swiper-slide").length){this._swiperInit();return}var t=this._welCardSwiper.find(".swiper-wrapper")[0];this._elementReady(t).then(function(e){i._swiperInit()}).catch(function(e){i._swiperInit()})},_elementReady:function e(o){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new Promise(function(n,e){var a=false;var i={childList:true};var t=function e(i,t){i.forEach(function(e){if(e.type==="childList"){a=true;t.disconnect();n(o)}})};var s=new MutationObserver(t);s.observe(o,i)})},_swiperInit:function e(){var i=this;if(this._oCardSwiper){return}this._welCardSwiperList=this._welCardSwiper.find(".swiper-slide");this._welControls=this._welCardSwiper.find(".swiper-ctrls");this._welAutoPlay=this._welControls.find(".swiper-btn-auto");this._welPrev=this._welControls.find(".swiper-btn-prev");this._welNext=this._welControls.find(".swiper-btn-next");var t=this._welCardSwiperList.length>1;this._oCardSwiper=new Swiper(this._welCardSwiper.find(".swiper-container")[0],{loop:t,allowTouchMove:false,speed:500,autoplay:t?{delay:5e3,disableOnInteraction:false}:false,navigation:t?{prevEl:this._welPrev[0],nextEl:this._welNext[0]}:false,a11y:{prevSlideMessage:"이전 슬라이드 배너 보기",nextSlideMessage:"다음 슬라이드 배너 보기",slideLabelMessage:"총 {{slidesLength}}장의 슬라이드 배너 중 {{index}}번째 슬라이드 배너 입니다."},on:{init:function e(){if(t){i._welCardSwiper.on("mouseenter",function(e){return i._onMouseenterSlider(e)}).on("mouseleave",function(e){return i._onMouseleaveSlider(e)});i._welAutoPlay.on("click",function(e){return i._onClickSwiperAutoPlay(e)});i._welCardSwiperList.on("focusin",function(e){return i._onFocusinSlider(e)});i._welCardSwiperList.on("focusout",function(e){return i._onFocusoutSlider(e)})}else{i._welControls.hide()}},navigationPrev:function e(){i._welCardSwiper.attr("aria-live","polite")},navigationNext:function e(){i._welCardSwiper.attr("aria-live","polite")}}})},_onMouseenterSlider:function e(){if(!this._isPlayingEnabled){return}this._oCardSwiper.autoplay.stop()},_onMouseleaveSlider:function e(){if(!this._isPlayingEnabled){return}this._oCardSwiper.autoplay.start();this._welCardSwiper.attr("aria-live","off")},_onFocusinSlider:function e(){this._oCardSwiper.autoplay.running&&this._oCardSwiper.autoplay.stop()},_onFocusoutSlider:function e(){this._welCardSwiper.attr("aria-live","off")},_onClickSwiperAutoPlay:function e(i){var t=$(i.currentTarget);if(t.hasClass("pause")){this._onStop()}else{this._onPlay()}},_onPlay:function e(){this._isPlayingEnabled=true;this._oCardSwiper.autoplay.start();this._welAutoPlay.addClass("pause");this._welCardSwiper.attr("aria-live","off")},_onStop:function e(){this._isPlayingEnabled=false;this._oCardSwiper.autoplay.stop();this._welAutoPlay.removeClass("pause");this._welCardSwiper.attr("aria-live","polite")}},ssg.Event.emitter);ssg.View.FloatBaner1=function(e){$.extend(this,e||{});this.init()};ssg.View.FloatBaner1.prototype=$.extend({_nShowTime:5e3,_nIntroTime:2e3,_nAnimateTime:500,_nSmallWidth:101,_nBigWidth:355,_fnEventTime:null,_fnIntroTime:null,init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._welFloatBaner1Wrap=$("#floatWrap");this._welFloatBaner1=$("#floatTy1");this._welFloatBaner1BigBanner=this._welFloatBaner1.find(".bn_fix_b");this._welFloatBaner1SmallBanner=this._welFloatBaner1.find(".bn_fix_s");this._welFloatBaner1BigBannerClose=$("#floatTy1_close")},_attachEventHandlers:function e(){this._welFloatBaner1BigBannerClose.on("click",$.proxy(this._onCloseBigBannerArea,this))},_onCloseBigBannerArea:function e(){this._stopEventTimer();this._changeBigToSmallArea();$.cookie("floating_ty1","T",{expires:1,path:"/"})},_showFloatBaner1Area:function e(){this._welFloatBaner1Wrap.show()},_hideFloatBaner1Area:function e(){this._welFloatBaner1Wrap.hide()},_showBigBannerArea:function e(){this._welFloatBaner1BigBanner.show().siblings().hide();this._nBigBannerWidth=this._welFloatBaner1SmallBanner.find(">img").width()},_hideBigBannerArea:function e(){this._welFloatBaner1BigBanner.hide()},_showSmallBannerArea:function e(){this._welFloatBaner1SmallBanner.show().siblings().hide();this._welFloatBaner1Wrap.css("zIndex",499)},_hideSmallBannerArea:function e(){this._welFloatBaner1SmallBanner.hide()},_initBigBannerWidth:function e(i){this._welFloatBaner1BigBanner.find(">img").width(i)},_initSmallBannerWidth:function e(i){this._welFloatBaner1SmallBanner.find("img").width(i)},_changeBigToSmallArea:function e(){var i=this;this._welFloatBaner1BigBanner.find(">img").animate({width:this._nSmallWidth},this._nAnimateTime,function(){i._hideBigBannerArea();i._initSmallBannerWidth(i._nSmallWidth);i._showSmallBannerArea();i.emit("visited")})},_startIntroBanner:function e(){var i=this;this._welFloatBaner1BigBanner.find(">img").animate({width:this._nBigWidth},this._nAnimateTime,"easeOutBack",function(){i._startEventTimer()})},_startEventTimer:function e(){this._fnEventTime=window.setTimeout($.proxy(this._changeBigToSmallArea,this),this._nShowTime)},_startIntroTimer:function e(){this._fnIntroTime=window.setTimeout($.proxy(this._startIntroBanner,this),this._nIntroTime)},_stopEventTimer:function e(){if(this._fnEventTime){window.clearTimeout($.proxy(this._fnEventTime,this));this._fnEventTime=null}},_stopIntroTimer:function e(){if(this._fnIntroTime){window.clearTimeout($.proxy(this._fnIntroTime,this));this._fnIntroTime=null}},startIntro:function e(){this._showFloatBaner1Area();this._initBigBannerWidth(this._nSmallWidth);this._showBigBannerArea();this._startIntroTimer()},showSmallBanner:function e(){this._showFloatBaner1Area();this._showSmallBannerArea()}},ssg.Event.emitter);ssg.View.FloatBaner2=function(e){$.extend(this,e||{});this.init()};ssg.View.FloatBaner2.prototype=$.extend({_nShowTime:5e3,_nAnimateTime:700,_nSmallWidth:101,_nBigWidth:1020,_fnEventTime:null,_fnIntroTime:null,init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._welFloatBaner2Wrap=$("#floatWrap2");this._welFloatBaner2=$("#floatTy2");this._welFloatBaner2BigBanner=this._welFloatBaner2.find(".bn_fix_b");this._welFloatBaner2SmallBanner=this._welFloatBaner2.find(".bn_fix_s");this._welFloatBaner2BigBannerClose=$("#floatTy2_close")},_attachEventHandlers:function e(){this._welFloatBaner2BigBannerClose.on("click",$.proxy(this._onCloseBigBannerArea,this))},_onCloseBigBannerArea:function e(){this._stopEventTimer();this._changeBigToSmallArea();$.cookie("floating_ty2","T",{expires:1,path:"/",domain:"ssg.com"})},_showFloatBaner2Area:function e(){this._welFloatBaner2Wrap.show()},_hideFloatBaner2Area:function e(){this._welFloatBaner2Wrap.hide()},_showBigBannerArea:function e(){this._welFloatBaner2SmallBanner.hide();this._nBigBannerWidth=this._welFloatBaner2SmallBanner.find(">img").width()},_hideBigBannerArea:function e(){this._welFloatBaner2BigBanner.hide()},_showSmallBannerArea:function e(){this._welFloatBaner2SmallBanner.show().siblings().hide();this._welFloatBaner2Wrap.css("zIndex",499)},_hideSmallBannerArea:function e(){this._welFloatBaner2SmallBanner.hide()},_initBigBannerWidth:function e(i){this._welFloatBaner2BigBanner.find(">img").width(i)},_initSmallBannerWidth:function e(i){this._welFloatBaner2SmallBanner.find("img").width(i)},_changeBigToSmallArea:function e(){var i=this;this._welFloatBaner2BigBanner.find(">img").animate({width:this._nSmallWidth,marginRight:-130},this._nAnimateTime,"easeOutBack",function(){i._hideBigBannerArea();i._initSmallBannerWidth(i._nSmallWidth);i._showSmallBannerArea();i.emit("visited")})},_startIntroBanner:function e(){var i=this;this._welFloatBaner2BigBanner.find(">img").animate({width:this._nBigWidth},this._nAnimateTime,"easeOutBack",function(){i._hideSmallBannerArea();i._showBigBannerArea();i._startEventTimer()})},_startEventTimer:function e(){this._fnEventTime=window.setTimeout($.proxy(this._changeBigToSmallArea,this),this._nShowTime)},_stopEventTimer:function e(){if(this._fnEventTime){window.clearTimeout($.proxy(this._fnEventTime,this));this._fnEventTime=null}},_startIntroTimer:function e(){this._fnIntroTime=window.setTimeout($.proxy(this._startIntroBanner,this),this._nIntroTime)},_stopIntroTimer:function e(){if(this._fnIntroTime){window.clearTimeout($.proxy(this._fnIntroTime,this));this._fnIntroTime=null}},startIntro:function e(){this._showFloatBaner2Area();this._showBigBannerArea();this._startIntroTimer()},showSmallBanner:function e(){this._showFloatBaner2Area();this._showSmallBannerArea()},showSmallBanner2:function e(){this._showFloatBaner2Area();this._showBigBannerArea();this._startIntroTimer()}},ssg.Event.emitter);ssg.View.FloatBaner3=function(e){$.extend(this,e||{});this.init()};ssg.View.FloatBaner3.prototype=$.extend({_nShowTime:5e3,_nIntroTime:2e3,_nAnimateTime:500,_nSmallWidth:82,_nBigWidth:800,_fnEventTime:null,_fnIntroTime:null,init:function e(){this._assignElements();this._attachEventHandlers()},_assignElements:function e(){this._welFloatBaner3Wrap=$("#floatWrap3");this._welFloatBaner3=$("#floatTy3");this._welFloatBaner3BigBanner=this._welFloatBaner3.find(".bn_fix_b");this._welFloatBaner3SmallBanner=this._welFloatBaner3.find(".bn_fix_s");this._welFloatBaner3BigBannerClose=$("#floatTy3_close")},_attachEventHandlers:function e(){this._welFloatBaner3BigBannerClose.on("click",$.proxy(this._onCloseBigBannerArea,this))},_onCloseBigBannerArea:function e(){this._stopEventTimer();this._changeBigToSmallArea();$.cookie("floating_ty3","T",{expires:1,path:"/"})},_showFloatBaner3Area:function e(){this._welFloatBaner3Wrap.show()},_hideFloatBaner3Area:function e(){this._welFloatBaner3Wrap.hide()},_showBigBannerArea:function e(){this._welFloatBaner3BigBanner.show().siblings().hide();this._nBigBannerWidth=this._welFloatBaner3SmallBanner.find(">img").width()},_hideBigBannerArea:function e(){this._welFloatBaner3BigBanner.hide()},_showSmallBannerArea:function e(){this._welFloatBaner3SmallBanner.show().siblings().hide();if($(window).scrollTop()==0){$("#floatWrap3 .bn_fix_s").hide()}else{$("#floatWrap3 .bn_fix_s").show()}},_hideSmallBannerArea:function e(){this._welFloatBaner3SmallBanner.hide()},_initBigBannerWidth:function e(i){this._welFloatBaner3BigBanner.find(">img").width(i)},_initSmallBannerWidth:function e(i){this._welFloatBaner3SmallBanner.find("img").width(i)},_changeBigToSmallArea:function e(){var i=this;this._welFloatBaner3BigBanner.find(">img").animate({width:this._nSmallWidth},this._nAnimateTime,function(){i._hideBigBannerArea();i._initSmallBannerWidth(i._nSmallWidth);i._showSmallBannerArea();i.emit("visited")})},_startIntroBanner:function e(){var i=this;this._welFloatBaner3BigBanner.find(">img").animate({width:this._nBigWidth},this._nAnimateTime,"easeOutBack",function(){i._startEventTimer()})},_startEventTimer:function e(){this._fnEventTime=window.setTimeout($.proxy(this._changeBigToSmallArea,this),this._nShowTime)},_startIntroTimer:function e(){this._fnIntroTime=window.setTimeout($.proxy(this._startIntroBanner,this),this._nIntroTime)},_stopEventTimer:function e(){if(this._fnEventTime){window.clearTimeout($.proxy(this._fnEventTime,this));this._fnEventTime=null}},_stopIntroTimer:function e(){if(this._fnIntroTime){window.clearTimeout($.proxy(this._fnIntroTime,this));this._fnIntroTime=null}},startIntro:function e(){this._showFloatBaner3Area();this._initBigBannerWidth(this._nSmallWidth);this._showBigBannerArea();this._startIntroTimer()},showSmallBanner:function e(){this._showFloatBaner3Area();this._showSmallBannerArea()},showBigBanner:function e(){this._initBigBannerWidth(this._nBigWidth);this._showBigBannerArea();this._welFloatBaner3Wrap.on("clickoutside.floatBaner3",$.proxy(this._onClickOutside,this))},_onClickOutside:function e(){this._onCloseBigBannerArea();this._welFloatBaner3Wrap.off("clickoutside.floatBaner3")}},ssg.Event.emitter);function floatBannerStart(){var e=new ssg.View.FloatBaner1;e.on("visited",function(){$.cookie("floating_ty1","T",{expires:1,path:"/"})});if($.cookie("floating_ty1")=="T"){e.showSmallBanner()}else{e.startIntro()}}function floatBanner2Start(){var e=new ssg.View.FloatBaner2;e.on("visited",function(){$.cookie("floating_ty2","T",{expires:1,path:"/",domain:"ssg.com"})});if($.cookie("floating_ty2")=="T"){e.showSmallBanner()}else{e.startIntro()}}function floatBanner3Start(){var e=new ssg.View.FloatBaner3;e.on("visited",function(){$.cookie("floating_ty3","T",{expires:1,path:"/"})});if($.cookie("floating_ty3")=="T"){e.showSmallBanner()}else{e.startIntro()}}$(function(){if($("#header.ssg_header_mini").length){var e=new ssg.View.mallLayer}if($("#history").length){var i=new ssg.View.drawer}if($(".ssg_mall_brand").length){var t=new ssg.View.mallBrand}if($("#floating").length){var n=new ssg.View.floating;var a=new ssg.View.floatingDelivery;var s=new ssg.View.floatingCard}$(".ssg-tooltip").tooltip();$("body").on("click",".common_footer .ui_toggle",function(e){e.preventDefault();e.stopPropagation();var i=$(this);var t=$(i.attr("href"));if(i.hasClass("active")){i.removeClass("active");t.removeClass("active").off("clickoutside.familySite")}else{i.addClass("active");t.addClass("active").one("clickoutside.familySite",function(){i.removeClass("active");t.removeClass("active")})}});$("body").on("mouseenter focusin",".tt_adinfo_n",function(e){var i=$(e.currentTarget),t=i.find(".tt_adinfo_layer");t.doTimeout("hover",100,function(){i.addClass("on").end().show()})}).on("mouseleave focusout",".tt_adinfo_n",function(e){var i=$(e.currentTarget),t=i.find(".tt_adinfo_layer");t.doTimeout("hover",100,function(){i.removeClass("on").end().hide()})}).on("click",".btn_tt_adinfo",function(e){e.preventDefault()});var o=function(){var i=$("body"),s=$("#toolTipMagic");var t=function e(i){welTargetLayer=i.next(".magicpick_tip_layer").html(),sContent=$('<div class="tl_magicpick_lst">').html(welTargetLayer),nPosition=i.offset();if(!s.length){s=$('<div id="toolTipMagic" class="tl_magicpick" />').appendTo("body")}s.css({left:nPosition.left,top:nPosition.top+27}).html(sContent)};var n=function e(i){var t=i.next(".magicpick_tip_layer"),n=t.width(),a=t.css("maxWidth").replace("px","");if(n>=a){s.find(".tl_magicpick_lst").css({whiteSpace:"normal",width:a})}s.addClass("on")};var a=function e(){i.find(".btn_magicpick").removeClass("on")};var o=function e(){a();s.removeClass("on").off("clickoutside.magicpickup")};var e=function e(){i.on("showMagicpickup",".btn_magicpick",function(e){var i=$(e.currentTarget);a();t(i);n(i);i.addClass("on");s.on("clickoutside.magicpickup",o)});i.on("hideMagicpickup",".btn_magicpick",function(e){o()})};return{init:e}}();o.init();var r=function(){var e=$("#_ieEdgeTopBanner"),i=e.find(".gnb_bnr_s"),t=i.find(".js_close_today"),n={key:e.data("cookie"),value:(new Date).getDate(),opts:{expires:1,path:"/",domain:"ssg.com"}};function a(){if(parseInt($.cookie(n.key),10)!==n.value){if(DUI.check.browser=="ie11"||DUI.check.browser=="ie10"||DUI.check.browser=="ie9"){e.show();if($("#_commonTopBanner").length){$("#_commonTopBanner").hide()}}else{e.hide()}}t.on("click",function(){i.slideUp();$.cookie(n.key,n.value,n.opts)})}return{init:a}}();if($("#_ieEdgeTopBanner").length){r.init()}var l=new ssg.View.FloatBaner3;$("#floatTy3 .bn_fix_s").on("mousestop",function(){l.showBigBanner()});var h=function(){var i=null;var e=10;var t=$("#cmjumpRank");var n=t.find(".cmjump_rank_lst.bx_slide");var a=t.find(".cmjump_lyr");var s=a.find(".cmjump_lyr_cont");var o=null;var r=0;function l(){i=n.filter(function(){return $(this).children("li").length>1}).bxSlider({mode:"vertical",auto:true,pause:3e3,pager:false,controls:false,onSliderLoad:function e(){$(".cmjump_rank_item:first-child").addClass("bold")},onSlideBefore:function e(){},onSlideAfter:function e(i,t,n){r=n;s.find(".cmjump_rank_item").removeClass("bold").eq(n).addClass("bold")}});t.on("mouseenter",function(e){a.addClass("on");i.stopAuto();if(r<10){$(".rank_tab_btn").eq(0).trigger("click")}else{$(".rank_tab_btn").eq(1).trigger("click")}}).on("mouseleave",function(e){a.removeClass("on");i.startAuto()}).on("focusin",function(e){window.clearTimeout(o);o=null;if(!a.hasClass("on")){a.addClass("on").attr("tabindex","0").focus()}}).on("focusout",function(e){o=window.setTimeout(function(){a.removeClass("on").removeAttr("tabindex")},150)});$(".rank_tab_btn").on("click",function(e){var i=$(this).parent();i.addClass("on").attr("aria-selected","true").siblings().removeClass("on").attr("aria-selected","false");$(".cmjump_lyr_panel").eq(i.index()).addClass("on").siblings().removeClass("on")})}return{init:l}}();if($("#cmjumpRank").length){h.init()}var c=$(".common_bn_slider ul");if(c.length){c.filter(function(){return $(this).find(">li").length>1}).bxSlider({pager:true,pagerType:"short",controls:true})}});var UIBase={uiClass:"ssg",uiWrappingId:"wrap",uiActive:"active",uiSplit:"_",uiControlArray:[],uiContent:"content",uiActionBase:["toggle","tab","dim","tooltip"],uiDimLayer:{bgcolor:"#000",opacity:.6,dimZindex:100,dimLayerZindex:1e3,orinHeight:0},tooltipZ:200,ie7Call:function e(){return true},targetLayer:"",_getFilteredHref:function e(i){var t=$(i).attr("href");if(!t){t="#"}if(t.indexOf("#")<=-1){t="#"}if(navigator.userAgent.indexOf("MSIE 7")>0){t=t.replace(location.href.replace(location.hash,""),"")}return t},_getTargetFromHref:function e(i){return $(this._getFilteredHref(i))},_binding:function e(){$("body").on("click",".ssg_toggle, .ssg_tooltip",function(e){var n=$(this);if(n.hasClass("ssg_hover")){if(UIBase._getFilteredHref(n).indexOf("#")!=-1){e.preventDefault()}}else{e.preventDefault();var a=UIBase._getTargetFromHref(n);if(a.length<=0){return false}if(n.hasClass(UIBase.uiActive)){n.removeClass(UIBase.uiActive);a.removeClass(UIBase.uiActive);if(n.is(".ssg_tooltip")){a.hide()}return}else{n.addClass(UIBase.uiActive);a.addClass(UIBase.uiActive);if(n.is(".ssg_tooltip")){a.show()}a.find(".ssg-toggle-close, .tooltip_close").one("click",function(e){e.preventDefault();n.removeClass(UIBase.uiActive);a.removeClass(UIBase.uiActive);if(n.is(".ssg_tooltip")){a.hide()}})}var i=function e(i){var t=n.is(i.target)||n.has(i.target).length>0;if(t){return}t=$(i.target).is(a)||a.has(i.target).length>0||a.is(UIBase._getTargetFromHref(i.target));if(!t){n.removeClass(UIBase.uiActive);a.removeClass(UIBase.uiActive);if(n.is(".ssg_tooltip")){a.hide()}}else{$("body").one("click",e)}};if(!n.is(".ssg_standalone")){$("body").one("click",i)}}}).on("mouseenter focusin",".ssg_toggle.ssg_hover, .ssg_tooltip.ssg_hover",function(e){var t=$(this);var n=UIBase._getTargetFromHref(t);if(n.length<=0){return false}t.addClass(UIBase.uiActive).one("mouseleave focusout",function(e){var i=function e(i){t.removeClass(UIBase.uiActive);n.removeClass(UIBase.uiActive);if(t.is(".ssg_tooltip")){n.hide()}};if(t.is(".ssg_standalone")){if(UIBase._getFilteredHref(t)=="#"+e.relatedTarget.id){n.one("mouseleave focusout",function(e){i()})}else{i()}}else{i()}});n.addClass(UIBase.uiActive);if(t.is(".ssg_tooltip")){n.show()}}).on("click",".ssg_tab li:not(.no_data)",function(e){var i=$(this);var t=UIBase._getFilteredHref(i.find("a"));if(i.hasClass("ssg_hover")){if(t.indexOf("#")!=-1){e.preventDefault()}return}if(t.indexOf("#")!=-1&&t.indexOf("#")==0){e.preventDefault()}i.addClass(UIBase.uiActive).siblings("li").removeClass(UIBase.uiActive);$(t).addClass(UIBase.uiActive).siblings("."+UIBase.uiContent).removeClass(UIBase.uiActive)}).on("mouseenter focusin",".ssg_tab.ssg_hover li",function(e){e.preventDefault();var i=$(this);var t=UIBase._getFilteredHref(i.find("a"));if(t.indexOf("#")!=-1){$(this).addClass(UIBase.uiActive).siblings("li").removeClass(UIBase.uiActive);$(t).addClass(UIBase.uiActive).siblings("."+UIBase.uiContent).removeClass(UIBase.uiActive)}}).on("click",".ssg_dim",function(e){e.preventDefault();var i=UIBase.uiDimLayer.bgcolor;var t=UIBase.uiDimLayer.opacity;var n=UIBase.uiDimLayer.dimZindex;var a=UIBase.uiDimLayer.dimLayerZindex;var s=$(this);var o=UIBase._getFilteredHref(s);var r=$(o);var l=r;r.remove();$("#"+UIBase.uiWrappingId).after(l);var h="absolute";if(s.is("ssg_fixable")){h="fixed"}var c=r.height();var u=$(document).height();UIBase.uiDimLayer.orinHeight=u;if(u<=c){$("#"+UIBase.uiWrappingId).css("height",c+300)}UIBase.targetLayer=o;r.css({display:"block","z-index":a});r.css("position",h);var _=$(window).width()/2-$(o).width()/2;r.css("margin-left",_);var f=document.createElement("div");f.style.backgroundColor=i;f.style.position="absolute";f.style.top=0;f.style.left=0;f.style.width=$(document).width()+"px";f.style.height=$(document).height()+"px";f.style.zIndex=n;f.style.opacity=t;f.style.filter="alpha(opacity="+t*100+")";f.style.display="block";f.id=UIBase.uiClass+"-use-global-layer";$("#"+UIBase.uiWrappingId).after(f);$(window).bind("resize",UIBase._resize);r.find(".ssg_close").focus();r.find(".ssg_close").on("click",function(e){e.preventDefault();r.css({display:"none","z-index":0});$(window).unbind("resize",UIBase._resize);$("#"+UIBase.uiClass+"-use-global-layer").remove();$("#"+UIBase.uiWrappingId).css("height",UIBase.uiDimLayer.orinHeight);s.focus()})})},_ajaxTooltipClick:function e(i){var r=$(i);var t="."+UIBase.uiClass+UIBase.uiSplit+UIBase.uiActionBase[3];var l=document.body?document.body:document.documentElement;r.on("click",t,function(e){e.preventDefault();var i=this;var t=UIBase._getFilteredHref(i);var n=$(this).hasClass(UIBase.uiActive);$(".tooltip_box").removeClass(UIBase.uiActive);var a=$(this).position();var s=r.find(t).find(".tooltip_close");function o(){$(i).removeClass(UIBase.uiActive);$(t).removeClass(UIBase.uiActive);$(t).hide();$(l).unbind("click",o)}if(!n){$(l).bind("click",o);$(i).addClass(UIBase.uiActive);$(t).addClass(UIBase.uiActive);$(t).show()}else{$(l).unbind("click",o);$(i).removeClass(UIBase.uiActive);$(t).removeClass(UIBase.uiActive);$(t).hide()}e.stopPropagation();$(s).unbind();$(s).click(function(e){e.preventDefault();$(l).unbind("click",o);$(t).hide();$(t).removeClass(UIBase.uiActive);$(i).removeClass(UIBase.uiActive)});$(t).click(function(e){e.stopPropagation()})})},_resize:function e(){var i=$(window).width();var t=$(document).height();$("#"+UIBase.uiClass+"-use-global-layer").css({width:i,height:t});i=$(window).width()/2-$(UIBase.targetLayer).width()/2;$(UIBase.targetLayer).css("margin-left",i+"px")},_init:function e(){UIBase._binding()}};var commonLocation=function e(){var s=0;$("#container").on("mouseenter focusin","div#location div.lo_depth_01 > a.lo_menu.lo_arr",function(e){e.preventDefault();var i=$(this);var t;s=1;var n="div#location div.lo_depth_01 > a.lo_menu.lo_arr";var a=i.data("original-target")||i.next();i.off("mouseleave focusout");i.on("mouseleave focusout",function(){s=0;clearTimeout(t);t=window.setTimeout(function(){if(!s){i.removeClass("active");a.removeClass("active")}},100)});$(n).removeClass("active");$("div#location div.lo_depth_01 > div.lo_depth_02").removeClass("active");a.removeAttr("style");i.addClass("active");a.addClass("active");a.find("a").bind({"mouseenter focusin":function e(){s=1;$(this).addClass("lst_over")},"mouseleave focusout":function e(){s=0;clearTimeout(t);$(this).removeClass("lst_over");t=window.setTimeout(function(){if(!s){i.removeClass("active");a.removeClass("active")}},100)}})})};var commonCollection=function e(){if(!$("#discount_collect").length){$("#content").on("mouseenter mouseleave focusin",".list_style1 > li , .item_list > li",function(e){if(e.type=="mouseenter"){$(this).addClass("lst_over").siblings("li").removeClass("lst_over")}if(e.type=="mouseleave"){$(this).removeClass("lst_over")}if(e.type=="focusin"){$(this).addClass("lst_over").siblings("li").removeClass("lst_over")}})}$("#content").on("mouseenter mouseleave focusin","div.table_itemlist > table > tbody > tr > td:not(.odd_item_view)",function(e){if(e.type=="mouseenter"){$(this).addClass("lst_over").siblings("td:not(.odd_item_view)").removeClass("lst_over")}if(e.type=="mouseleave"){$(this).removeClass("lst_over")}if(e.type=="focusin"){$(this).addClass("lst_over").siblings("td:not(.odd_item_view)").removeClass("lst_over")}});$("#content").on("mouseenter focusin","a.help_sale_info",function(e){e.preventDefault();var i=$(this);var t;var n=0;var a=i.data("original-target")||i.nextAll(".price_date");i.off("mouseleave focusout");i.on("mouseleave focusout",function(){n=0;clearTimeout(t);t=window.setTimeout(function(){if(!n){i.removeClass("active");a.removeClass("active");$("#wrap > .price_date").remove()}},100)});if(!i.is(".active")){$(".help_sale_info").removeClass("active");$(".price_date.active").removeClass("active");$("#wrap > .price_date").remove();a.removeAttr("style");i.addClass("active");a.addClass("active");i.data("original-target",a);a.data("original-offset-top",a.data("original-offset-top")||a.offset().top);a.data("original-offset-left",a.data("original-offset-left")||a.offset().left);a.clone().css({position:"absolute",top:$("#_commonTopBanner").is(":visible")&&$("#_commonTopBanner .gnb_bnr_s").css("display")=="block"?a.offset().top-100:a.offset().top,left:a.offset().left,marginLeft:0,marginTop:-a.parent().find(".unit_price").height(),zIndex:999}).appendTo("#wrap").bind({mouseenter:function e(){n=1},mouseleave:function e(){n=0;i.removeClass("active");a.removeClass("active");$("#wrap > .price_date").remove()}});a.hide()}else{i.removeClass("active");a.removeClass("active");$("#wrap > .price_date").remove()}});var s=$("div.table_itemlist tr > td:not(:only-child)").parent();if(s.length>0){s.flip({triggerEvent:"mouseover, focusin",autoMapping:true,beforeInit:function e(){var a=this;a.getTargetList().children().each(function(e,i){var n=$(i);n.find(".show_all_store a").on("click",function(e){e.preventDefault();var i=$(this);if(i.is(".active")){i.removeClass("active")}else{s.find(".show_all_store a").removeClass("active");i.addClass("active")}n.addClass("lst_over").siblings().removeClass("lst_over");var t=a.getTargetList().next().find(".item_view_wrap");t.show();t.find("a").eq(0).focus();t.find(".ico_arow").css({left:n.index()*n.width()+n.width()/2-t.find(".ico_arow").width()/2});t.find("button.btn").on("click",function(e){e.preventDefault();t.hide()})})})}})}};$.fn.textPlaceholder=function(){return this.each(function(){var e=this;if(e.placeholder&&"placeholder"in document.createElement(e.tagName)){return}var i=e.getAttribute("placeholder")?e.getAttribute("placeholder"):$(e).attr("placeholder");var t=jQuery(e);if(e.value===""||e.value==i){t.addClass("text-placeholder");e.value=i}t.focus(function(){if(t.hasClass("text-placeholder")){this.value="";t.removeClass("text-placeholder")}});t.blur(function(){if(this.value===""){t.addClass("text-placeholder");this.value=i}else{t.removeClass("text-placeholder")}});if(e.form){jQuery(e.form).submit(function(){if(t.hasClass("text-placeholder")){e.value=""}})}})};var pwPlaceholder=function e(){$("body").on("focusin","input.placeholder, textarea.placeholder",function(e){$(this).removeClass("placeholder");$(this).on("change",function(e){if(this.value===""){$(this).addClass("placeholder")}else{$(this).removeClass("placeholder")}})})};var TabStyleToggle=function e(){$("body").on("mouseenter focusin",".tab_style.large li",function(e){$(this).addClass("lst_over").siblings("li").removeClass("lst_over");$(this).one("mouseleave focusout",function(e){$(this).removeClass("lst_over")})});$("body").on("mouseenter focusin",".tab.large li",function(e){$(this).addClass("lst_over").siblings("li").removeClass("lst_over");$(this).one("mouseleave focusout",function(e){$(this).removeClass("lst_over")})})};(function(){UIBase._init();commonCollection();commonLocation();pwPlaceholder();TabStyleToggle();$.fn.vvipLogo=function(e){var i=$(this);var t=$.extend({ty:"bg1",vvip:"name_o",msg1:"HAPPY",msg2:"BIRTHDAY",name:"SSG",link:"http://www.ssg.com"},e);if(DUI.check.browser=="ie7"||DUI.check.browser=="ie8"||DUI.check.browser=="ie9"){i.addClass("ie")}var n=['<div class="vvip_logo">','<a href="'+t.link+'">','<div class="'+t.vvip+'">','<span class="msg">'+t.msg1+" <br />"+t.msg2+"</span>",'<span class="name">'+t.name+" 님</span>","</div>",'<span class="'+t.ty+'">&nbsp;</span>',"</a>","</div>"].join("");i.html(n)};if($("input[placeholder]").length>0){$("input[placeholder]").textPlaceholder()}})();
//# sourceMappingURL=ssg.common.layout.js.map
