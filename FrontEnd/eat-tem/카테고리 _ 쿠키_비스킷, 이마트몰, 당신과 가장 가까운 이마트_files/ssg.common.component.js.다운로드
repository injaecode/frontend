"use strict";var ssg=ssg||{};ssg.util=$.extend({hasElement:function t(e){return $(e).length>0}},ssg.util||{});ssg.View=ssg.View||{};ssg.View.common=ssg.View.common||{};ssg.View.common.unit=function(t){$.extend(this,t||{});this.init()};ssg.View.common.unit.prototype=$.extend({init:function t(){this._assignElements();this._attachEventHandlers()},_assignElements:function t(){this._welBody=$("body")},_attachEventHandlers:function t(){this._welBody.on("focusin mouseenter",".thmb",$.proxy(this._onMouseenterItem,this));this._welBody.on("focusout mouseleave",".thmb",$.proxy(this._onMouseleaveItem,this));this._welBody.on("focusin mouseenter",".cunit_prod .lens",$.proxy(this._onMouseenterTooltipLens,this));this._welBody.on("focusout mouseleave",".cunit_prod .lens",$.proxy(this._onMouseleaveTooltipLens,this));this._welBody.on("mouseenter",".cunit_prod .cm_tx_lens",$.proxy(this._onMouseenterLensTextLayer,this));this._welBody.on("mouseleave",".cunit_prod .cm_tx_lens",$.proxy(this._onMouseleaveLensTextLayer,this))},_onMouseenterTooltipLens:function t(e){var i=$(e.currentTarget),n=i.closest(".thmb").find(".cm_tx_lens");i.addClass("on");this._showLens(n)},_onMouseleaveTooltipLens:function t(e){var i=$(e.currentTarget),n=i.closest(".thmb").find(".cm_tx_lens");i.removeClass("on");this._hideLens(n)},_onMouseenterLensTextLayer:function t(e){var i=$(e.currentTarget);i.closest(".thmb").find(".exp_area .lens").addClass("on");this._bLensOver=true},_onMouseleaveLensTextLayer:function t(e){var i=$(e.currentTarget);i.closest(".thmb").find(".exp_area .lens").removeClass("on");this._bLensOver=false;this._hideLens(i)},_showLens:function t(e){e.doTimeout("hover",100,function(){e.show()})},_hideLens:function t(e){var i=this;e.doTimeout("hover",100,function(){if(i._bLensOver){e.show()}else{e.hide()}})},_onMouseenterItem:function t(e){var i=$(e.currentTarget),n=i.find(".exp_area .opt_bx"),o=i.data("itemunitThmbItemid"),s=i.closest("li");if(!s.hasClass("cunit_ty_review")){i.addClass("thmb_over")}},_onMouseleaveItem:function t(e){var i=$(e.currentTarget);i.removeClass("thmb_over")},_getItemOptionData:function t(e){var i=this,n=$.Deferred();this.emit("getItemOptionData",n.resolve,n.reject,e);return n.promise()}},ssg.Event.emitter);ssg.View.postunit=ssg.View.postunit||{};ssg.View.postunit.slider=function(t){$.extend(this,t||{});this.init()};ssg.View.postunit.slider.prototype={elemTarget:null,_htSlider:{controls:false,pager:false,useCSS:false},_oSlider:null,init:function t(){this._assignElements();this._assignComponents()},_assignElements:function t(){this._welSlideWrap=$(this.elemTarget);this._welSlideList=this._welSlideWrap.find(".postunit_slider_lst");this._welSlideControls=this._welSlideWrap.find(".postunit_slider_ctrls");this._welSlidePagerArea=this._welSlideWrap.find(".postunit_slider_pager");this._welSlideCurIndex=this._welSlidePagerArea.find(".postunit_slider_index");this._welSlideTotal=this._welSlidePagerArea.find(".postunit_slider_total");this._welSlidePrev=this._welSlideWrap.find(".postunit_slider_prev");this._welSlideNext=this._welSlideWrap.find(".postunit_slider_next")},_assignComponents:function t(){this._oSlider=this._welSlideList.filter(function(){return $(this).find(".postunit_slider_item").length>1}).bxSlider($.extend({},this._htSlider,{onSliderLoad:$.proxy(this._onSliderLoad,this),onSlideBefore:$.proxy(this._onSlideBefore,this)}))},_initializeSlder:function t(){var e=this;var i=$.Deferred();var n=setInterval(function(){if(e._oSlider){clearInterval(n);i.resolve()}else{i.notify()}},200);if(this._oSlider){clearInterval(n);i.resolve()}return i.promise()},_onSliderLoad:function t(e,i){this._initializeSlder().done($.proxy(function(){this.nTotalCount=this._oSlider.getSlideCount();this._welSlideControls.show();this._attachEventHandlers();this._updateSlideTotalCount(this.nTotalCount);this._updateSlideCurrentIndex(this._oSlider.getCurrentSlide());this._updateDirectionControls(this._oSlider.getCurrentSlide());this._setAriaHiddenSlide($(e.children).eq(i))},this))},_onSlideBefore:function t(e,i,n){this._updateSlideCurrentIndex(n);this._updateDirectionControls(n);this._setAriaHiddenSlide(e);if(e.data()&&e.data().productTarget){$(e.data().productTarget).show().siblings().hide()}},_attachEventHandlers:function t(){this._welSlidePrev.on("click",$.proxy(this._onClickSlidePrev,this));this._welSlideNext.on("click",$.proxy(this._onClickSlideNext,this))},_onClickSlidePrev:function t(){this._oSlider.goToPrevSlide()},_onClickSlideNext:function t(){this._oSlider.goToNextSlide()},_updateSlideTotalCount:function t(e){this._welSlideTotal.text(e)},_updateSlideCurrentIndex:function t(e){this._welSlideCurIndex.text(e+1)},_updateDirectionControls:function t(e){if(e===0){this._welSlidePrev.addClass("disabled");this._welSlideNext.removeClass("disabled")}else if(e===this.nTotalCount-1){this._welSlideNext.addClass("disabled");this._welSlidePrev.removeClass("disabled")}else{this._welSlidePrev.removeClass("disabled");this._welSlideNext.removeClass("disabled")}},_setAriaHiddenSlide:function t(e){e.attr("aria-hidden","false").siblings().attr("aria-hidden","true")}};var oSsgViewPostunitInit;$(function(){var t=$("body"),e=$("#magicPickupTt");t.on("mouseenter focusin",".price-tooltip:not(.tooltipstered)",function(){$(this).tooltipster({arrow:false,delay:100,animationDuration:150,trigger:"custom",triggerOpen:{mouseenter:true,click:true},triggerClose:{mouseleave:true,scroll:true},interactive:true,contentAsHTML:true,side:["bottom"],functionInit:function t(e,i){var n=$(i.origin).siblings(".price-tooltip-layer").wrapAll("<div/>").parent().html();e.content(n)},functionReady:function t(e,i){$(i.origin).parent().find(".price-tooltip-layer").attr("aria-hidden",false)},functionBefore:function t(e,i){$(i.origin).parent().addClass("on")},functionAfter:function t(e,i){$(i.origin).parent().removeClass("on");$(i.origin).parent().find(".price-tooltip-layer").attr("aria-hidden",true)},functionPosition:function t(e,i,n){var o=$(i.origin).parents(".cunit_price");if(!o.length){return}n.coord.left=o.offset().left;n.coord.top-=5;return n}}).tooltipster("open")});t.on("focusin",".price-tooltip.tooltipstered",function(){$(this).tooltipster("open")}).on("focusout",".price-tooltip.tooltipstered",function(){$(this).tooltipster("close")});t.on("click",".btn_magicpick:not(.tooltipstered)",function(){$(this).tooltipster({arrow:false,trigger:"click",interactive:true,contentCloning:true,contentAsHTML:true,side:["bottom"],animationDuration:150,delay:100,functionBefore:function t(i,e){var n=$(e.origin);if(!n.data("api")){var o=n.find(".magicpick_default_txt").html();i.content().find("ul").html("<li>"+o+"</li>")}else{if(n.data("loaded")!==true){$.ajax({method:"get",url:n.data("api"),data:{itemId:n.data("itemId")}}).done(function(t){var e=t.length?$.map(t,function(t){return"<li>"+t+"</li>"}).join(""):"<li>가능점포가 없습니다.</li>";n.data("loaded-data",e);n.data("loaded",true);i.content().find("ul").html(e);$(window).trigger("resize")})}else{i.content().find("ul").html(n.data("loaded-data"))}}},functionReady:function t(e,i){$(i.origin).addClass("on");e.content().attr("aria-hidden",false)},functionAfter:function t(e,i){$(i.origin).removeClass("on");e.content().find("ul").html("").attr("aria-hidden",true)},functionPosition:function t(e,i,n){var o=$(i.origin).parents("li");var s=$(i.origin).closest(".cunit_tycenter");if(!o.length){return}if(!s.length){n.coord.left=o.offset().left}else{n.coord.left=$(i.origin).parent().offset().left}n.coord.top-=5;return n}}).tooltipster("open")});t.on("click",".cunit_tipbox_btn:not(.tooltipstered)",function(){$(this).tooltipster({arrow:false,trigger:"click",interactive:true,contentCloning:true,contentAsHTML:true,side:["bottom"],animationDuration:150,delay:100,functionInit:function t(e,i){var n=$(i.origin).siblings(".cunit_tipbox_layer").wrapAll("<div/>").parent().html();e.content(n)},functionReady:function t(e,i){$(i.origin).parent().find(".cunit_tipbox_layer").attr("aria-hidden",false)},functionBefore:function t(e,i){$(i.origin).parent().addClass("on")},functionAfter:function t(e,i){$(i.origin).parent().removeClass("on");$(i.origin).parent().find(".cunit_tipbox_layer").attr("aria-hidden",true)},functionPosition:function t(e,i,n){n.coord.left=$(i.origin).parent().offset().left;n.coord.top-=5;return n}}).tooltipster("open")});t.on("click",".js_tagtip_btn:not(.tooltipstered)",function(){$(this).tooltipster({arrow:false,trigger:"click",interactive:true,contentCloning:true,contentAsHTML:true,side:["bottom"],animationDuration:150,delay:100,functionInit:function t(e,i){var n=$(i.origin).siblings(".js_tagtip_layer").wrapAll("<div/>").parent().html();e.content(n)},functionReady:function t(e,i){$(i.origin).parent().find(".js_tagtip_layer").attr("aria-hidden",false);$(i.tooltip).one("click",".js_close_btn",function(){$(i.origin).tooltipster("hide")})},functionBefore:function t(e,i){$(i.origin).parent().addClass("on")},functionAfter:function t(e,i){$(i.origin).parent().removeClass("on").find(".js_tagtip_layer").attr("aria-hidden",true)},functionPosition:function t(e,i,n){var o=$(i.origin).closest(".js_tagtip_box").parent();n.coord.left=o.offset().left;n.coord.top-=5;n.size.width=o.width();return n}}).tooltipster("open")});var i=new ssg.View.common.unit;oSsgViewPostunitInit=function t(){if(ssg.util.hasElement(".postunit_slider")){$(".postunit_slider").each(function(t,e){if(!$(e).data("_js_is_plugin")){$(e).data("_js_is_plugin",true);var i=new ssg.View.postunit.slider({elemTarget:e})}})}}});
//# sourceMappingURL=ssg.common.component.js.map
